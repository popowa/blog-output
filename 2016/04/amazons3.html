<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="ayakomuro" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="AmazonS3 開発者ガイドの大事な所だけピックアップした"/>
    <meta property="og:url" content="http://blog.popowa.com/2016/04/amazons3.html"/>
    <meta property="og:site_name" content="popowa"/>
    <meta property="og:type" content="article"/>

    <link rel="canonical" href="http://blog.popowa.com/2016/04/amazons3.html" />

    <title>AmazonS3 開発者ガイドの大事な所だけピックアップした | popowa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />

    <link rel="stylesheet" type="text/css" href="http://blog.popowa.com/theme/css/main.css" />

    <script type="text/javascript">var switchTo5x=true;</script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options({
            publisher: "5a2ce781d0739000123acd73",
            doNotHash: false,
            doNotCopy: false,
            hashAddressBar: false
        });
    </script>
</head>

<body id="index">
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="http://blog.popowa.com/">popowa </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li ><a href="http://www.popowa.com">About Aya</a></li>
                            <li ><a href="https://twitter.com/ayakomuro">Twitter</a></li>
                            <li ><a href="https://github.com/popowa">Github</a></li>
                        </ul>

<script>
  (function() {
    var cx = '014316853335343165598:-bgzniyqm3y';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div id="google-custom-search" class="nav">
    <gcse:search></gcse:search>
</div>
                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="http://blog.popowa.com/2016/04/amazons3.html" rel="bookmark"
             title="Permalink to AmazonS3 開発者ガイドの大事な所だけピックアップした">AmazonS3 開発者ガイドの大事な所だけピックアップした</a></h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="ayakomuro">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="http://blog.popowa.com/author/ayakomuro.html">ayakomuro</a>
    </address>

    in <a href="http://blog.popowa.com/category/blog.html">blog</a>

    on 2016-04-03

        |
        tags:         <a href="http://blog.popowa.com/tag/amazon.html">Amazon</a>
        <a href="http://blog.popowa.com/tag/s3.html">S3</a>



    
</footer><!-- /.post-info -->
        <div class="sharethis-top">
          <span class='st_fblike_hcount' displayText='Facebook Like'></span>
          <span class='st_plusone_hcount' displayText='Google +1'></span>
          <span class='st_twitter_hcount' displayText='Tweet'></span>
          <span class='st_email_hcount' displayText='Email'></span>
        </div>

        <p>This is not what you</p>
<p>are expected to read for understanding S3.
Read<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/Welcome.html">this.</a><br/>
開発者ガイドを全部読んで大事かなーって所だけピックアップして書き出した。ちゃんとドキュメントは<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/Welcome.html">ここ</a>を読んだほうがいいよ</p>
<p><a href="https://1.bp.blogspot.com/-OZeeh2jwn6k/VwGd60m-YBI/AAAAAAAAerU/YAd8tu0X9VcMWGHYAEa0lkvzEeL5nc4Mg/s1600/IMG_0822.jpg"><img alt="" src="https://1.bp.blogspot.com/-OZeeh2jwn6k/VwGd60m-YBI/AAAAAAAAerU/YAd8tu0X9VcMWGHYAEa0lkvzEeL5nc4Mg/s320/IMG_0822.jpg"/>{width="320"
height="240"}</a></p>
<p>[]</p>
<p>1オブジェクト\~5TB変わらず</p>
<p>1回のオペレーションでアップロードできるサイズ5GB（超える場合はマルチパートアップロード。100MBからマルチパート使ったほうがよい）</p>
<ul>
<li>分割したパーツは最大10,000個</li>
</ul>
<p>SOAP for
HTTPは廃止済み、HTTPSは使えるけど非推奨。SOAP用にS3機能は開発しないのでREST
APIかAWS SDK使ってね</p>
<p>オブジェクト</p>
<p>キー（名前）とバージョンIDによってバケット内で一意に識別される</p>
<p>オブジェクトデータ</p>
<ul>
<li>データ部分をS3から見ることは出来ない</li>
</ul>
<p>メタデータ</p>
<p>オブジェクトを表現する名前と値のペアのセット and more...</p>
<p>PUTリクエストヘッダーのサイズは8KBに制限されている</p>
<p>システムメタデータ</p>
<ul>
<li>システム的に必要なデータ。多くはAWSが自動で設定しユーザーは操作不可（日付など）</li>
</ul>
<p>ユーザー定義メタデータ</p>
<p>カスタムメタデータ、PUTリクエストヘッダー内では2KBに制限</p>
<ul>
<li>キーと値の各ペアをUTF-8にエンコードしたバイト数に合計=2KB以下</li>
</ul>
<p>x-amz-meta-で開始する必要あり</p>
<p>リージョン</p>
<ul>
<li>明示的に別リージョンを選ばない限りリージョンを勝手にデータが動くことはないよ</li>
</ul>
<p>PUTなどの動作に関して</p>
<p>変更に関しては、S3内でレプリケーションされているからちょっと時間かかる</p>
<ul>
<li>古いデータが表示されることあり</li>
</ul>
<p>削除に関しても上記と同じ</p>
<ul>
<li>削除したのに一覧で見た時表示されるなど</li>
</ul>
<p>オブジェクトのロックをサポートしていない</p>
<ul>
<li>同じキーに対して2つのPUTリクエストが行われた場合、最新のタイムスタンプを持つリクエストが優先される</li>
<li>読み込みと書き込みに整合性が必要であればアプリ側で実装しなければいけない</li>
</ul>
<p>RRS(低冗長性ストレージ）</p>
<p>通常のディスクドライブの400倍の堅牢性を提供</p>
<ul>
<li>年間99.99%のオブジェクト耐久性</li>
<li>年間平均予測オブジェクト喪失率 0.01%</li>
</ul>
<p>バケットポリシー</p>
<p>ポリシーはバケット内のすべて（または一部）のオブジェクトに対して影響出来る</p>
<p>ARNやワイルドカードも利用可能</p>
<p>バケット所有者のみが設定可能</p>
<p>バケット、オブジェクトに対しての動作</p>
<p>誰から</p>
<p>条件</p>
<ul>
<li>IPアドレス、CIDRでのIPアドレス範囲、日付、ユーザーエージェント、HTTP
    Referrer,トランスポート(HTTP/HTTPS)など</li>
</ul>
<p>でもIAM使うといいかも</p>
<p>一時的なセキュリティ認証情報を扱うSecurity Token Service(STS)もあるよ</p>
<ul>
<li>一時的なアクセスキー(access key/secrect
    key)とセキュリティートークンを返す</li>
</ul>
<p>APIについて</p>
<p>SOAPじゃなくてREST使ってね</p>
<ul>
<li>SOAPではバージョニングをサポートしてない</li>
</ul>
<p>REST API</p>
<ul>
<li>HTTPに追加機能がある（ACLをサポートするヘッダーなどを追加）</li>
<li>標準HTTP書式の使用法に合致するように頑張ったよ</li>
</ul>
<p>料金</p>
<ul>
<li>使った分だよ as always!</li>
</ul>
<p>EC2, EMR,
Import/ExportにもS3がよく出てくるから一緒にドキュメント読むといいじゃない？</p>
<p>エンドポイント</p>
<p>サンプルスクリプトは Java, .NET, PHP, Rubyのようだ</p>
<p>バケットの仮想ホスティング？</p>
<p>ウェブサイト機能のようだ</p>
<p>Hostヘッダーにどこまで含むかはリクエストするURIにも影響するからリージョンを意識しよう</p>
<ul>
<li>HTTPでREST API利用時のみ</li>
<li>以前のバージョンのS3はHTTPのHostヘッダーを不正に無視していた</li>
</ul>
<p>リダイレクトについて</p>
<ul>
<li>全HTTPリクエストヘッダーがリダイレクトリクエストに適切に含まれている事</li>
<li>非GETリダイレクトが正常動作しているか確認</li>
<li>大きなPUTリクエストがリダイレクトに従っているか確認</li>
<li><a href="https://ja.wikipedia.org/wiki/HTTP%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89">100-continueレスポンス</a>&nbsp;が届くまで時間がかかる場合はPUTリクエストがリダイレクトに従っているか確認</li>
</ul>
<p>PUTに対して100-continueを利用するようにアプリ側で設定</p>
<p>バケットについて</p>
<p>リージョンを指定しないでバケットを作ると米国東部（バージニア北部）リージョンになるよ</p>
<p>バケットのドメインは以下のパターン</p>
<ul>
<li>http://<strong>bucket</strong>.s3.amazonaws.com</li>
<li>http://s3.amazonaws.com/<strong>bucket</strong></li>
<li>http://<strong>bucket</strong>.s3-<strong>[aws-region]</strong>.amazonaws.com</li>
<li>http://s3-<strong>[aws-region]</strong>.amazonaws.com/<strong>bucket</strong></li>
<li>http://<strong>bucket</strong>.s3-website-<strong>[aws-region]</strong>.amazonawscom
    (静的ウェブ)</li>
<li>http://<strong>bucket</strong>.s3-website.<strong>[aws-region]</strong>.amazonaws.com&nbsp;(静的ウェブ)</li>
</ul>
<p>設定オプション（サブリソースと呼ばれるらしい）</p>
<p>ライフサイクル</p>
<p>Standard_IAからStandardもしくはRRSへの移行はサポートされてない</p>
<p>Glacierから他のストレージクラスには移行出来ない</p>
<p>RRSに移行出来ない</p>
<p>MFAが有効なバケットではライフサイクル設定はサポートされてない</p>
<p>ログ設定が有効な場合オブジェクトの移動、削除などはレコードに記載される</p>
<p>日付は翌日の午前00:00(UTC)にくるめられて、実行される</p>
<ul>
<li>オブジェクトの作成日は翌日の00:00として見なされ実行日がその日付からプラスされて実行される</li>
</ul>
<p>website</p>
<p>バージョニング</p>
<p>バケット単位の有効設定</p>
<p>MFAをバケットに対して設定することで削除を制御する</p>
<ul>
<li>有効に出来るのはバケット所有者のみ</li>
</ul>
<p>バージョニング無効には出来ない、停止のみ</p>
<p>PolicyとACL</p>
<p>Cross-Origin Resource Sharing(CORS)</p>
<p>ロギング</p>
<p>タグ付け</p>
<p>ロケーション</p>
<p>通知</p>
<p>バージョン</p>
<p>リクエスタ支払い</p>
<ul>
<li>データ転送量をリクエスタが支払う仕組み</li>
<li>有効にすると匿名アクセス、BitTorrent, SOAPが利用不可</li>
<li>Amazon DevPayを使ってバケットに格納されたコンテンツを販売出来る</li>
</ul>
<p>制約</p>
<ul>
<li>1AWSアカウントについき最大100個のバケット作成可能。制限緩和で上限を増やすことが可能</li>
<li>バケットの所有権は譲渡不可、バケットが空の場合は削除可能。</li>
<li>バケット内に別のバケットを作ることは出来ない</li>
<li>バケット作成時命名の衝突が起こらないようにアプリで実装する</li>
</ul>
<p>命名規則</p>
<p>DNS命名規則に準拠する</p>
<ul>
<li>米国東部（バージニア北部）除く</li>
<li>AWSコンソールを使うと、自動でDNS準拠になる</li>
</ul>
<p>3\~63文字</p>
<p>ピリオド利用可能、小文字の英文字、数字、ハイフン</p>
<p>先頭および末尾は小文字の英数字</p>
<p>IPアドレスは不可</p>
<p>バケットにピリオドを入れるとSSLワイルドカード証明書対応ができなくなるので、使うの止めよう</p>
<p>米国東部ルール</p>
<ul>
<li>最長255文字、大文字、小文字、数字、ピリオド、ハイフン、アンダースコア利用可能だがよろしくないのでDNS命名規則使おう</li>
</ul>
<p>AWS
S3コンソールは100,000までのオブジェクトがあるバケットを削除出来るらしい。それ以上ある場合はSDK使って削除してね</p>
<p>ライフサイクル設定をしてバケットもしくはオブジェクトを削除する</p>
<p>S3には階層がない</p>
<p>オブジェクトに関して</p>
<p>命名ガイドライン</p>
<p>キー名にUTF-8文字利用可能</p>
<ul>
<li>英数字、特殊文字にしておくと何かとよい</li>
</ul>
<p>特殊文字をキー名に使う場合は16進数としてURL
encodeが必要かもしれないので気をつけて</p>
<p>\"&amp;\",&nbsp;\"\$\",&nbsp;\"@\",&nbsp;\"=\",&nbsp;\";\",&nbsp;\":\",&nbsp;\"+\",&nbsp;\",\",\"?\"</p>
<p>0x0000(NULL)\~0x001F(US)までの範囲と、0x007F(DEL)</p>
<ul>
<li><a href="http://redgrittybrick.org/ascii.html">http://redgrittybrick.org/ascii.html</a></li>
</ul>
<p>使わないで</p>
<ul>
<li>\"\",\"\",\"`\",\"[\",\"]\",\"&gt;\",\"\&lt;\",\"#\",\"|\",\"\~\",表示不可なASCII文字</li>
</ul>
<p>オブジェクトのサブリソース（設定）</p>
<p>ACL</p>
<p>Torrent</p>
<ul>
<li>BitTorrentプロトコルをサポートしている</li>
</ul>
<p>削除について</p>
<ul>
<li>ライフサイクルでの有効期限超えをすると削除キーに追加して非同期的に削除する</li>
</ul>
<p>日付</p>
<ul>
<li>作成日は最終更新日（バージョン管理していても最新の更新日）</li>
</ul>
<p>S3内でコピーを取る場合</p>
<ul>
<li>1回のアトミックコピーは最大5GB。超える場合はマルチパートアップロードを使ってコピーする</li>
</ul>
<p>GETに関して</p>
<ul>
<li>1回のリクエストによるデータの複数範囲取得はサポートされてない</li>
</ul>
<p>ストレージの種類</p>
<p>スタンダード(通常のS3)用</p>
<p>少頻度アクセス(Standard IA)用</p>
<ul>
<li>128KB以上の大規模オブジェクト、30日間以上入れておく（イメージは月額課金みたいな感じ）、料金もS3とは違うので要確認</li>
</ul>
<p>アーカイブ(a.k.a. Glacier)用</p>
<ul>
<li>取り出しに時間かかる、いつでもアクセス出来るわけではない</li>
</ul>
<p>低冗長化ストレージ(RRS)</p>
<p>堅牢性と可用性</p>
<ul>
<li>スタンダード= 99.999999999%, 99.99%</li>
<li>少頻度アクセス=上に同じ, 99,9%</li>
<li>Glacier=上に同じ, 99.99%</li>
<li>RRS=99.99%, 99.99%</li>
</ul>
<p>Glacierについて</p>
<ul>
<li>オブジェクト1個にあたり、S3での名前とメタデータ用に8KBのストレージを利用する</li>
<li>保存して3ヶ月位以上アーカイブしている場合は削除は無料</li>
<li>3ヶ月未満で削除または上書きする場合はS3による早期削除料金が課金される👀</li>
<li>復元するまで大体4時間（3〜5時間）</li>
</ul>
<p>CORSについて</p>
<ul>
<li>AllowedOriginとAllowedMethod、オプションとしてAllowedHeader,
    ExposedHeader, MaxAgeSecondsをXMLにて設定</li>
</ul>
<p>署名付きオブジェクトURLにつちて</p>
<ul>
<li>オブジェクトの所有者はオプションで独自のセキュリティ証明書を利用し、ダウンロードさせる為の期限付き許可を与える事が可能</li>
<li>セキュリティ証明書と、バケット名、オブジェクト名を指定する必要があり</li>
<li>HTTPメソッド(GET)と有効期限も指定する必要</li>
<li>署名付きURLを受け取った相手は誰でもそのオブジェクトにアクセス出来る</li>
<li>オブジェクトをアップロードする場合は、元々のURIに対して実行出来る権限を持っている必要がある</li>
</ul>
<p>アクセス権限について　<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/s3-access-control.html">再度確認</a></p>
<p>アクセスポリシー、ユーザーポリシー、リソースベースポリシー（バケットポリシー、バケットACL、オブジェクトACL)全てを評価してリクエストを許可するか決定する</p>
<p>IAMユーザーの場合、自分の所属するAWSアカウントからの許可、リソース所有者からの許可が必要</p>
<p>評価の順番　<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/access-control-auth-workflow-bucket-operation.html">図がある</a></p>
<p>ユーザーコンテキスト</p>
<ul>
<li>親アカウントのポリシー評価</li>
<li>リソース所有者が親の場合リソースポリシー（バケットポリシー、バケットACL、オブジェクトACL)も同時に評価</li>
</ul>
<p>バケットコンテキスト</p>
<ul>
<li>所有者アカウントのポリシーを評価</li>
<li>明示的に拒否セットがあるか確認</li>
</ul>
<p>オブジェクトコンテキスト</p>
<ul>
<li>所有者のポリシーのサブセットの評価する</li>
</ul>
<p>データの保護</p>
<p>チェックサム</p>
<ul>
<li>チェックサムを利用してデータの保全性を定期的に検証している</li>
<li>ネットワークの全トラフィックに対してチェックサムを計算してデータパケットの損傷を検出している</li>
</ul>
<p>暗号化</p>
<p>バケットポリシーで暗号化していないオブジェクトをアップロードさせないなど可能</p>
<p>サーバー側</p>
<p>SSE-S3(AES-256)</p>
<ul>
<li>署名付きURLを使って更新されたオブジェクトはSSE-S3で暗号化するかを強要する事は出来ない</li>
</ul>
<p>AWS KMS</p>
<ul>
<li>ヘッダーがBase64 encoded
    JSONなら好きな値をセット可能。CloudTrailログに残るので機密情報は入れない</li>
</ul>
<p>SSE-C(顧客が用意したキー）</p>
<ul>
<li>暗号化キーはAWS側では保存しないが、ランダムなSALT値が付加された暗号化キーのHMAC値を保存している。</li>
<li>HTTPSのみ受け付ける</li>
<li>署名済みURLを作成時に署名計算の為にアルゴリズムを指定する必要がある</li>
</ul>
<p>クライアント側</p>
<ul>
<li>AWS KMSで管理されているカスタマーマスターキーを利用</li>
<li>クライアント側のマスターキーを利用</li>
</ul>
<p>バージョン管理</p>
<p>バージョンIDはURLセーフ、バージョンIDは一意の値をAWSが付与する</p>
<p>バージョン数取得はディフォルト1,000個</p>
<p>削除に関して</p>
<p>MFA
Deleteが有効の場合は、バケット所有者はリクエストにx-amz-mfaリクエストヘッダを入れる。HTTPS</p>
<p>ヘッダーの値は、認証デバイスのシリアル番号、スペース、認証デバイスに表示される認証コードの連結文字</p>
<p>削除マーカー</p>
<ul>
<li>削除マーカーの削除</li>
</ul>
<p>以前のバージョンの復元</p>
<ul>
<li>オブジェクトを戻したいオブジェクトで上書きする</li>
<li>オブジェクトの最新バージョンを削除する</li>
</ul>
<p>アクセス許可</p>
<ul>
<li>アクセス許可はバージョンレベルで設定出来る</li>
<li>オブジェク所有者はWSアカウント</li>
</ul>
<p>静的ウェブサイト</p>
<p>インデックスは、ルートドメインとサブフォルダーへのリクエストのみ</p>
<p>4XXのエラーのときは独自のエラードキュメントを返す事が可能</p>
<p>全てのリクエストをリダイレクト</p>
<p>条件付きリダイレクト</p>
<ul>
<li>特定のオブジェクトキー名、プレフィックス、レスポンスコード</li>
<li>x-amz-website-redirect-location</li>
</ul>
<p>イベントの通知</p>
<p>イベント</p>
<ul>
<li>新しいオブジェクト作成</li>
<li>オブジェクト削除</li>
<li>RRSオブジェクト消失</li>
</ul>
<p>宛先</p>
<ul>
<li>SNSトピック</li>
<li>SQSキュー</li>
<li>Lambda</li>
</ul>
<p>クロスリージョンレプリケーション</p>
<p>異なるAWSリージョンにあるバケット間でオブジェクトを自動で非同期でコピー</p>
<p>全てのオブジェクト、もしくは特定のキー名のプレフィックスが付いた一部のオブジェクトなど</p>
<p>コピー先のバケットは完全コピーになる</p>
<ul>
<li>同じキー名、メタデータ</li>
</ul>
<p>SSLで転送される</p>
<p>オリジナルバケットとレプリケーション先のバケット両方でバージョニングを有効にする必要がある</p>
<p>違うリージョンであるhチウ用がる</p>
<p>N対Nの関係。N対複数のレプリケーションは出来ない</p>
<p>レプリケーション出来るように権限付与が必要。IAM Role使うとよい</p>
<p>オリジナル/レプリケーション先のバケット所有者、オブジェクト所有者での権限が正しく設定されていること</p>
<p>レプリケーションされないもの</p>
<p>レプリケーション設定が追加される前に存在するオブジェクトは遡ってレプリケーションしない（バージョン管理の関係と思われる）</p>
<p>SSE-CのキーとSSE-KMSのキーを使って暗号化されたオブジェクトはレプリケーションしない</p>
<p>バケットレベルのサブリソースの更新はレプリケーションされない</p>
<p>ライフサイクル設定で実行されたアクションはレプリケーションされない</p>
<ul>
<li>同じにしたければ両方のバケットでライフサイクル設定が必要</li>
</ul>
<p>元のバケットが実は別のバケットからのレプリケーションされたバケットだった場合、オリジナルになれない</p>
<p>確認する時はx-amz-replication-statusヘッダー</p>
<ul>
<li>pending, completed, failed</li>
</ul>
<p>レプリケーション設定を削除してからバージョニング無効化</p>
<p>レプリケーション先のバケットでバージョニングを無効にするとレプリケーションが停止する</p>
<p>バケットのロギングが有効の場合、ログオブジェクトもレプリケートする</p>
<p>パフォーマンスの最適化（想定は毎秒100回のリクエスト）</p>
<ul>
<li>毎秒100回PUT/LIST/DELETEまたは毎秒300回GETリクエストをする場合はちゃんと<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/request-rate-perf-considerations.html">このガイドライン</a>に従う</li>
<li>毎秒300回PUT/LIST/DELETEまたは毎秒800回GETリクエストが予測される場合はサポートに問い合わせをする</li>
<li>前訳したこれ　<a href="http://blog.serverworks.co.jp/tech/2012/08/10/best-practices-for-using-amazon-s3/">http://blog.serverworks.co.jp/tech/2012/08/10/best-practices-for-using-amazon-s3/</a></li>
<li>GET多かったらCloudFront使って</li>
</ul>
<p>CloudWatchで確認</p>
<ul>
<li>バケットのサイズとオブジェクトの数はメトリックスとして取得出来る</li>
</ul>
<p>CloudTrailでもS3操作のログが残るよ</p>
<p>DevPay&nbsp;<a href="http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/UsingDevPay.html">http://docs.aws.amazon.com/ja_jp/AmazonS3/latest/dev/UsingDevPay.html</a></p>

        <div class="sharethis-bottom">
          <span class='st_fblike_hcount' displayText='Facebook Like'></span>
          <span class='st_plusone_hcount' displayText='Google +1'></span>
          <span class='st_twitter_hcount' displayText='Tweet'></span>
          <span class='st_email_hcount' displayText='Email'></span>
        </div>
      </div><!-- /.entry-content -->

    </article>
  </section>
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                    </p>
                    <p>
                        <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                    </p>
                </address>
            </div>
        </div>
    </footer>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-845207-15']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>